<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amplify — AI-powered marketing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        slate: {
                            900: '#0f172a',
                            800: '#1e293b',
                            700: '#334155',
                            600: '#475569',
                            500: '#64748b',
                            400: '#94a3b8',
                            300: '#cbd5e1',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes spin { to { transform: rotate(360deg); } }
        .animate-spin { animation: spin 1s linear infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        .markdown-output h1 { font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem; }
        .markdown-output h2 { font-size: 1.25rem; font-weight: bold; margin-top: 1.5rem; margin-bottom: 0.75rem; color: #94a3b8; }
        .markdown-output h3 { font-size: 1.1rem; font-weight: 600; margin-top: 1rem; margin-bottom: 0.5rem; }
        .markdown-output p { margin-bottom: 0.75rem; line-height: 1.7; }
        .markdown-output ul { list-style-type: disc; margin-left: 1.5rem; margin-bottom: 1rem; }
        .markdown-output ol { list-style-type: decimal; margin-left: 1.5rem; margin-bottom: 1rem; }
        .markdown-output li { margin-bottom: 0.5rem; }
        .markdown-output strong { font-weight: 600; color: #e2e8f0; }
        .markdown-output code { background: #1e293b; padding: 0.2rem 0.4rem; border-radius: 0.25rem; font-size: 0.9em; }
        .markdown-output pre { background: #1e293b; padding: 1rem; border-radius: 0.5rem; overflow-x: auto; margin-bottom: 1rem; }
        .markdown-output blockquote { border-left: 3px solid #6366f1; padding-left: 1rem; margin: 1rem 0; color: #94a3b8; }
        .markdown-output table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; }
        .markdown-output th, .markdown-output td { border: 1px solid #334155; padding: 0.5rem; text-align: left; }
        .markdown-output th { background: #1e293b; }
    </style>
</head>
<body class="bg-slate-900 text-white min-h-screen">
    <div id="app"></div>

    <script>
        // ===== MARKETING LIBRARY DATA =====
        const libraries = {
            seo: {
                title: "SEO — AI Prompt Library for Marketers",
                summary: "Elite SEO marketers think in systems: technical foundations, content-authority loops, and search intent mapping. They obsess over compounding returns—every piece of content builds domain authority.",
                mentalModels: [
                    { name: "Content-Search Intent Fit", description: "Match content format to the user's stage in the search journey.", lesson: "A 'best X' query needs comparison content, not a product page.", source: "Eli Schwartz, Product-Led SEO (2021)" },
                    { name: "Topical Authority Clusters", description: "Build interconnected content hubs that signal expertise to Google.", lesson: "One pillar page + 15-20 supporting articles outperforms 50 disconnected posts.", source: "HubSpot Topic Cluster Model (2017)" },
                    { name: "The Compounding Content Effect", description: "Invest in content that grows traffic over time, not spikes.", lesson: "10% of blog posts drive 90% of traffic. Identify and double down on compounding posts.", source: "Tomasz Tunguz, Redpoint (2019)" },
                    { name: "Technical SEO as Foundation", description: "No amount of content fixes crawlability and indexation issues.", lesson: "Audit site speed, crawl budget, and Core Web Vitals before scaling content.", source: "Aleyda Solis, Crawling Mondays (2020)" },
                    { name: "SERP Real Estate Thinking", description: "Optimize for featured snippets, PAA boxes, and rich results.", lesson: "Position zero can drive more clicks than position one.", source: "Cyrus Shepard, Moz (2019)" },
                    { name: "Link Earning vs Link Building", description: "Create assets worth linking to instead of chasing placements.", lesson: "Original research, tools, and data studies earn links passively at scale.", source: "Brian Dean, Backlinko (2016)" }
                ],
                prompts: [
                    { id: 1, goal: "Keyword Clustering & Intent Mapping", prompt: "I have a list of keywords for {{BRAND}}'s {{INDUSTRY}} business. Group them into clusters based on search intent (informational, navigational, commercial, transactional). For each cluster, recommend the ideal content format and suggest a primary keyword to target. Context: {{CHALLENGE}}", whyFits: "Intent-first clustering prevents content cannibalization.", howUsed: "Run after keyword research in Ahrefs/Semrush." },
                    { id: 2, goal: "Content Brief Generation", prompt: "Create a comprehensive SEO content brief for {{BRAND}} targeting their ideal customer. Include: target word count, H2/H3 structure, semantic keywords, questions to answer (from PAA), and internal linking opportunities. Business context: {{CHALLENGE}}", whyFits: "Structured briefs improve writer output and ranking probability.", howUsed: "Generate before assigning to writers." },
                    { id: 3, goal: "Technical SEO Audit Prioritization", prompt: "{{BRAND}} ({{WEBSITE}}) needs to prioritize technical SEO fixes. Given their business challenge: {{CHALLENGE}}, create a 30-60-90 day remediation roadmap focusing on: crawlability, user experience, and Core Web Vitals.", whyFits: "Elite SEOs triage ruthlessly by impact.", howUsed: "Run monthly after crawl audits." },
                    { id: 4, goal: "Featured Snippet Optimization", prompt: "Help {{BRAND}} win featured snippets in the {{INDUSTRY}} space. Given their challenge: {{CHALLENGE}}, identify 5 high-opportunity keywords and provide optimized content structures (paragraph, list, or table format) for each.", whyFits: "Position zero requires surgical precision.", howUsed: "Target pages ranking #2-5." },
                    { id: 5, goal: "Internal Linking Architecture", prompt: "Design an internal linking strategy for {{BRAND}}'s website ({{WEBSITE}}). Identify orphan pages, high-authority pages for link equity distribution, and anchor text recommendations. Business goal: {{CHALLENGE}}", whyFits: "Internal linking is the most underrated SEO lever.", howUsed: "Run quarterly." },
                    { id: 6, goal: "Content Refresh Strategy", prompt: "{{BRAND}} wants to refresh their existing content. Given their challenge: {{CHALLENGE}}, create a content decay analysis framework and prioritize which pages to update first based on traffic trends and business impact.", whyFits: "Content decay is a silent traffic killer.", howUsed: "Run quarterly on top traffic drivers." },
                    { id: 7, goal: "Programmatic SEO Template", prompt: "Design a programmatic SEO strategy for {{BRAND}} in the {{INDUSTRY}} space. Create page templates for scalable content (e.g., location pages, comparison pages). Business context: {{CHALLENGE}}", whyFits: "Programmatic SEO scales to millions of pages.", howUsed: "Validate with 10-page pilot first." },
                    { id: 8, goal: "Competitor Content Gap Analysis", prompt: "Analyze {{BRAND}}'s content gaps versus competitors in {{INDUSTRY}}. Identify keywords they're missing, content formats to add, and topical areas needing depth. Strategic goal: {{CHALLENGE}}", whyFits: "Competitive intelligence drives strategy.", howUsed: "Run with Ahrefs Content Gap tool." },
                    { id: 9, goal: "Link-Worthy Asset Ideation", prompt: "Generate 5 link-worthy content asset ideas for {{BRAND}} in {{INDUSTRY}}. Each should be based on original data/research and useful enough to earn passive links. Business challenge: {{CHALLENGE}}", whyFits: "Links come from value, not outreach volume.", howUsed: "Brief content team on quarterly link magnets." },
                    { id: 10, goal: "EEAT Signal Enhancement", prompt: "Audit {{BRAND}}'s website ({{WEBSITE}}) for Experience, Expertise, Authoritativeness, and Trustworthiness signals. Provide specific recommendations for author bios, credentials, citations, and trust badges. Context: {{CHALLENGE}}", whyFits: "EEAT is critical for YMYL niches.", howUsed: "Run on money pages." }
                ]
            },
            paid: {
                title: "Paid Media — AI Prompt Library for Marketers",
                summary: "Elite paid media operators think in systems of creative velocity, audience segmentation, and margin math. They know 80% of performance comes from creative, not targeting.",
                mentalModels: [
                    { name: "Creative is the New Targeting", description: "Algorithm-driven platforms mean creative quality determines reach.", lesson: "Invest 70% of effort in creative production and testing.", source: "Alex Garcia, Marketing Examined (2023)" },
                    { name: "The 3-3-3 Creative Testing Framework", description: "Test 3 hooks, 3 bodies, 3 CTAs systematically.", lesson: "Modular testing isolates variables and scales winners faster.", source: "Barry Hott, Paid Media Pro (2022)" },
                    { name: "Contribution Margin Thinking", description: "Optimize for profit, not ROAS—factor in COGS and LTV.", lesson: "A 3x ROAS on a 20% margin product loses money.", source: "Taylor Holiday, CTC (2021)" },
                    { name: "Creative Fatigue Curves", description: "Every ad has a decay curve—plan refresh cycles.", lesson: "Refresh creative at 3x frequency or 30% CTR decline.", source: "Sarah Sal, Facebook Ads Expert (2020)" },
                    { name: "Platform-Native Creative", description: "Ads that look like content outperform polished ads.", lesson: "UGC-style, lo-fi creative often beats brand ads.", source: "Nick Shackelford (2021)" }
                ],
                prompts: [
                    { id: 1, goal: "Ad Creative Hook Generation", prompt: "Generate 15 scroll-stopping hooks for {{BRAND}} in {{INDUSTRY}} targeting their ideal customer. Include: 3 curiosity hooks, 3 pain-point hooks, 3 social proof hooks, 3 contrarian hooks, 3 benefit hooks. Business challenge: {{CHALLENGE}}", whyFits: "The hook determines 80% of ad performance.", howUsed: "A/B test in Meta Ads Manager." },
                    { id: 2, goal: "Audience Segmentation Strategy", prompt: "Create a tiered audience strategy for {{BRAND}}: 1) High-intent (warm), 2) Interest-based (tepid), 3) Broad (cold). For each tier, recommend budget allocation, creative approach, and expected CPAs. Goal: {{CHALLENGE}}", whyFits: "Audience architecture drives efficiency.", howUsed: "Implement as separate ad sets." },
                    { id: 3, goal: "Creative Testing Roadmap", prompt: "Build a 4-week creative testing plan for {{BRAND}}. Structure each week as: hypothesis, variants to test, success metric, sample size, decision criteria. Business context: {{CHALLENGE}}", whyFits: "Systematic testing beats random iteration.", howUsed: "Execute in Meta's A/B framework." },
                    { id: 4, goal: "Landing Page-Ad Message Match", prompt: "{{BRAND}} needs to improve ad-to-landing page alignment. Audit their current approach and score message match on: headline alignment, value prop consistency, visual continuity, CTA clarity. Challenge: {{CHALLENGE}}", whyFits: "Message mismatch kills conversion rates.", howUsed: "Run before launching campaigns." },
                    { id: 5, goal: "Competitor Ad Intelligence", prompt: "Analyze competitor ads in {{INDUSTRY}} for {{BRAND}}. Identify: common hooks, offer structures, creative formats, and gaps to exploit. Strategic goal: {{CHALLENGE}}", whyFits: "Competitive intelligence informs differentiation.", howUsed: "Run monthly on top 5 competitors." },
                    { id: 6, goal: "UGC Creator Brief", prompt: "Create a UGC video brief for {{BRAND}} targeting their ideal customer. Include: video structure (hook-problem-solution-CTA), talking points, phrases to include/avoid, ideal creator profile. Context: {{CHALLENGE}}", whyFits: "Clear briefs produce better UGC.", howUsed: "Send to creators via Billo/Insense." },
                    { id: 7, goal: "Budget Allocation Optimization", prompt: "{{BRAND}} needs to optimize their paid media budget across channels. Given their goal: {{CHALLENGE}}, recommend reallocation to maximize ROI, factoring in diminishing returns and attribution windows.", whyFits: "Capital allocation is strategy.", howUsed: "Run weekly during scaling." },
                    { id: 8, goal: "Retargeting Sequence Design", prompt: "Design a 14-day retargeting sequence for {{BRAND}}: Day 1-3 (reminder), Day 4-7 (objection handling), Day 8-14 (urgency). Include message angles, formats, and frequency caps. Goal: {{CHALLENGE}}", whyFits: "Sequenced retargeting prevents fatigue.", howUsed: "Build as custom audiences." },
                    { id: 9, goal: "Post-iOS14 Measurement Framework", prompt: "Design a measurement framework for {{BRAND}} given signal loss. Include: first-party data strategy, server-side tracking, MMM approach, and which metrics to trust. Business context: {{CHALLENGE}}", whyFits: "Attribution is broken—triangulate.", howUsed: "Brief data team on implementation." },
                    { id: 10, goal: "Creative Fatigue Diagnosis", prompt: "Help {{BRAND}} diagnose creative fatigue across their ad account. Create a framework to identify when ads start declining, what metrics signal it, and when to refresh vs retire. Challenge: {{CHALLENGE}}", whyFits: "Knowing when to kill ads matters.", howUsed: "Run weekly on top-spending ads." }
                ]
            },
            lifecycle: {
                title: "Lifecycle Marketing — AI Prompt Library for Marketers",
                summary: "Elite lifecycle marketers think in journeys, not campaigns. They architect automated experiences from acquisition to advocacy, obsessing over activation moments and retention curves.",
                mentalModels: [
                    { name: "The Aha Moment Framework", description: "Identify the action that correlates with retention, then accelerate users to it.", lesson: "Facebook: 7 friends in 10 days. Find your activation metric.", source: "Chamath Palihapitiya (2013)" },
                    { name: "Retention is the New Growth", description: "Focus on keeping customers before acquiring more.", lesson: "Improving retention by 5% can increase profits by 25-95%.", source: "Brian Balfour, Reforge (2017)" },
                    { name: "Behavioral Cohort Segmentation", description: "Segment by actions taken, not demographics.", lesson: "Users who complete action X within 48 hours retain 3x better.", source: "Amplitude (2020)" },
                    { name: "Trigger-Based > Time-Based", description: "Send messages based on user actions, not schedules.", lesson: "Behavioral triggers outperform calendar sends by 5-10x.", source: "Iterable (2022)" },
                    { name: "The Reactivation Window", description: "There's an optimal window to win back churned users.", lesson: "Win-back campaigns work best 7-30 days post-churn.", source: "Klaviyo (2023)" }
                ],
                prompts: [
                    { id: 1, goal: "Onboarding Sequence Architecture", prompt: "Design a 14-day onboarding sequence for {{BRAND}} mapping to: signup → first value → activation → habit formation. For each touchpoint: trigger, delay, subject line, message, CTA. Business goal: {{CHALLENGE}}", whyFits: "Onboarding is where retention is won or lost.", howUsed: "Build in Klaviyo/Customer.io." },
                    { id: 2, goal: "Activation Metric Identification", prompt: "Help {{BRAND}} identify their 'aha moment'. Analyze which early user actions correlate with 30/60/90 day retention. Output: the activation metric, time window, and confidence level. Context: {{CHALLENGE}}", whyFits: "The activation metric is the north star.", howUsed: "Run analysis in Amplitude/Mixpanel." },
                    { id: 3, goal: "Churn Prediction & Prevention", prompt: "Build a churn risk scoring model for {{BRAND}}. Define high/medium/low risk criteria, early warning signals, and intervention triggers. For each risk level, recommend a save campaign. Goal: {{CHALLENGE}}", whyFits: "Predicting churn before it happens is a superpower.", howUsed: "Implement in CDP." },
                    { id: 4, goal: "Win-Back Campaign Strategy", prompt: "Design a win-back campaign for {{BRAND}} targeting churned users. Include: 3-email sequence, subject lines, timing, offers, and suppression rules. Business context: {{CHALLENGE}}", whyFits: "Win-back campaigns recover revenue efficiently.", howUsed: "Build as automated flow." },
                    { id: 5, goal: "Behavioral Segmentation Framework", prompt: "Create a behavioral segmentation framework for {{BRAND}}. Define 5-7 segments (Power Users, At-Risk, Dormant, etc.) with criteria, messaging approach, and triggers. Challenge: {{CHALLENGE}}", whyFits: "One-size-fits-all messaging fails.", howUsed: "Implement in CDP or email platform." },
                    { id: 6, goal: "Email Subject Line Testing Plan", prompt: "Generate a 4-week subject line testing plan for {{BRAND}}. Each week test one variable: personalization, urgency, curiosity, emoji, length. Include variants and success metrics. Goal: {{CHALLENGE}}", whyFits: "Subject line optimization compounds.", howUsed: "Run A/B tests in email platform." },
                    { id: 7, goal: "Cross-Channel Journey Mapping", prompt: "Map the ideal customer journey for {{BRAND}} from awareness to advocacy. For each stage: primary channel, message theme, trigger, success metric, handoff. Business context: {{CHALLENGE}}", whyFits: "Journey mapping reveals gaps.", howUsed: "Visualize in Miro/Figma." },
                    { id: 8, goal: "Loyalty & Referral Program", prompt: "Design a loyalty/referral program for {{BRAND}}. Include: reward structure, earning mechanics, gamification, and program economics (cost per referral, LTV lift). Goal: {{CHALLENGE}}", whyFits: "Referral programs scale efficiently.", howUsed: "Implement in ReferralCandy/custom." },
                    { id: 9, goal: "Sunset Policy & List Hygiene", prompt: "Create a sunset policy for {{BRAND}}'s email list. Define engagement thresholds, re-engagement sequence, suppression criteria. Estimate deliverability impact. Context: {{CHALLENGE}}", whyFits: "List hygiene protects deliverability.", howUsed: "Implement as automated segment." },
                    { id: 10, goal: "NPS-Triggered Automation", prompt: "Design NPS-triggered flows for {{BRAND}}: Promoters (referral request), Passives (feedback + follow-up), Detractors (escalation + recovery). Include timing and messaging. Goal: {{CHALLENGE}}", whyFits: "NPS is a goldmine for automation.", howUsed: "Integrate NPS tool with email." }
                ]
            },
            content: {
                title: "Content Marketing — AI Prompt Library for Marketers",
                summary: "Elite content marketers think in distribution, not just creation. They build content engines that compound—every piece serves multiple purposes across multiple channels.",
                mentalModels: [
                    { name: "Distribution > Creation", description: "Spend 20% creating, 80% distributing.", lesson: "Before writing, have a distribution plan with 10+ channels.", source: "Ross Simmonds (2021)" },
                    { name: "Content-Audience Fit", description: "Match format to where your audience consumes.", lesson: "LinkedIn carousel for B2B, TikTok for Gen Z.", source: "Amanda Natividad, SparkToro (2022)" },
                    { name: "The Repurposing Pyramid", description: "Create one pillar piece, atomize into 10+ assets.", lesson: "One podcast = clips, quotes, blogs, threads, carousels.", source: "Gary Vaynerchuk (2019)" },
                    { name: "POV-Driven Content", description: "Unique perspectives beat regurgitated information.", lesson: "Take a stance. Contrarian viewpoints earn attention.", source: "Rand Fishkin (2018)" },
                    { name: "Content as Product", description: "Treat content with user research and iteration.", lesson: "Survey audience, analyze comments, iterate on data.", source: "Lenny Rachitsky (2023)" }
                ],
                prompts: [
                    { id: 1, goal: "Content Pillar Development", prompt: "Define 5 content pillars for {{BRAND}} in {{INDUSTRY}}. Each pillar needs: core theme, 3 sub-topics, formats, and tie to business goals. Include example titles. Context: {{CHALLENGE}}", whyFits: "Content pillars create strategic focus.", howUsed: "Organize content calendar around pillars." },
                    { id: 2, goal: "Repurposing Workflow Design", prompt: "Create a repurposing workflow for {{BRAND}}'s content. Map one pillar piece to 10+ derivatives: social posts, email snippets, video clips, infographics. Business goal: {{CHALLENGE}}", whyFits: "Repurposing multiplies content ROI.", howUsed: "Add to content SOP." },
                    { id: 3, goal: "Distribution Channel Strategy", prompt: "Build a distribution strategy for {{BRAND}}'s content. List 15 channels (owned, earned, paid) with specific actions, formats, reach, and timing. Prioritize by impact. Challenge: {{CHALLENGE}}", whyFits: "Distribution determines content success.", howUsed: "Execute as post-publish checklist." },
                    { id: 4, goal: "Thought Leadership Topics", prompt: "Generate 20 thought leadership content ideas for {{BRAND}} in {{INDUSTRY}}. Include: 5 contrarian takes, 5 lessons learned, 5 predictions, 5 tactical guides. Context: {{CHALLENGE}}", whyFits: "Thought leadership requires fresh angles.", howUsed: "Feed into content calendar." },
                    { id: 5, goal: "Content Audit & Optimization", prompt: "Audit {{BRAND}}'s existing content ({{WEBSITE}}). Evaluate: headline strength, hook quality, structure, CTAs, SEO elements. Score each 1-10 and provide improvements. Goal: {{CHALLENGE}}", whyFits: "Optimization beats creation.", howUsed: "Run on top content quarterly." },
                    { id: 6, goal: "Newsletter Value Proposition", prompt: "Design a newsletter concept for {{BRAND}}. Include: name options, tagline, content pillars, unique value prop, cadence, growth strategy, sample outline. Context: {{CHALLENGE}}", whyFits: "Newsletters are owned distribution gold.", howUsed: "Launch in Beehiiv/Substack." },
                    { id: 7, goal: "Content Calendar Framework", prompt: "Build a monthly content calendar for {{BRAND}}. Include: weekly themes, content mix ratios, pillar alignment, repurposing schedule, responsibilities. Business goal: {{CHALLENGE}}", whyFits: "Calendars create consistency.", howUsed: "Implement in Notion/Airtable." },
                    { id: 8, goal: "Case Study Framework", prompt: "Create a case study framework for {{BRAND}}. Include: customer selection criteria, interview questions, story structure, data points, distribution plan. Context: {{CHALLENGE}}", whyFits: "Case studies are bottom-funnel gold.", howUsed: "Use for all customer stories." },
                    { id: 9, goal: "Content Performance Analysis", prompt: "Analyze content performance for {{BRAND}}. Identify: top performers and why, underperformers and diagnosis, patterns, recommendations for next quarter. Goal: {{CHALLENGE}}", whyFits: "Data-driven iteration beats guessing.", howUsed: "Run monthly/quarterly." },
                    { id: 10, goal: "LinkedIn Content Strategy", prompt: "Design a LinkedIn strategy for {{BRAND}}. Include: posting frequency, content mix, engagement tactics, hashtag strategy, growth playbook. Provide 10 post ideas with hooks. Context: {{CHALLENGE}}", whyFits: "LinkedIn is B2B's highest-ROI channel.", howUsed: "Execute daily/weekly." }
                ]
            },
            conversion: {
                title: "CRO — AI Prompt Library for Marketers",
                summary: "Elite CRO practitioners think in hypotheses, not hunches. They run rigorous experiments with statistical discipline and obsess over friction reduction and compound gains.",
                mentalModels: [
                    { name: "Test Everything, Trust Nothing", description: "Best practices are hypotheses until validated.", lesson: "Run your own tests—never copy blindly.", source: "Peep Laja, CXL (2018)" },
                    { name: "The 80/20 of Friction", description: "80% of losses come from 20% of friction points.", lesson: "Heatmaps reveal where users struggle.", source: "Hotjar (2020)" },
                    { name: "Statistical Significance or Nothing", description: "Declare winners only with 95%+ confidence.", lesson: "Calculate sample size before launching.", source: "Evan Miller (2015)" },
                    { name: "Qualitative Before Quantitative", description: "User research reveals the 'why'.", lesson: "5 interviews surface more than 500K pageviews.", source: "Steve Krug (2014)" },
                    { name: "Compound Conversion Gains", description: "3% x 3% x 3% = 9.3% total improvement.", lesson: "Consistent small wins compound to massive gains.", source: "Booking.com (2019)" }
                ],
                prompts: [
                    { id: 1, goal: "Hypothesis Generation from Data", prompt: "Generate 10 testable CRO hypotheses for {{BRAND}} ({{WEBSITE}}). Each must include: observation, proposed change, expected impact, success metric. Prioritize by estimated impact. Challenge: {{CHALLENGE}}", whyFits: "Data-driven hypotheses outperform gut feelings.", howUsed: "Add to testing roadmap." },
                    { id: 2, goal: "Landing Page Teardown", prompt: "Conduct a conversion teardown of {{BRAND}}'s landing page. Evaluate: headline clarity, value prop, social proof, CTA visibility, friction, mobile experience. Score each 1-10. Goal: {{CHALLENGE}}", whyFits: "Systematic teardowns surface hidden issues.", howUsed: "Run on key pages quarterly." },
                    { id: 3, goal: "A/B Test Design Document", prompt: "Create a test design document for {{BRAND}}. Include: test name, control vs variant, primary/secondary metrics, sample size, duration, success criteria. Context: {{CHALLENGE}}", whyFits: "Proper documentation prevents failed tests.", howUsed: "Use as standard template." },
                    { id: 4, goal: "Friction Audit", prompt: "Audit {{BRAND}}'s conversion funnel for friction. For each step, identify: cognitive friction, emotional friction, physical friction. Recommend changes and prioritize. Goal: {{CHALLENGE}}", whyFits: "Friction kills conversion.", howUsed: "Combine with session recordings." },
                    { id: 5, goal: "User Research Questions", prompt: "Generate a user research question set for {{BRAND}} to understand why visitors don't convert. Include: 5 survey questions, 5 interview questions, 3 usability tasks. Context: {{CHALLENGE}}", whyFits: "Research uncovers the 'why'.", howUsed: "Deploy via Hotjar/Qualaroo." },
                    { id: 6, goal: "Social Proof Optimization", prompt: "Audit social proof on {{BRAND}}'s site ({{WEBSITE}}). Identify gaps and recommend: testimonial formats, placement, specificity improvements, trust signals. Goal: {{CHALLENGE}}", whyFits: "Social proof is highest-leverage.", howUsed: "Brief content team on collection." },
                    { id: 7, goal: "Form Optimization", prompt: "Analyze {{BRAND}}'s forms for conversion optimization. Evaluate: field necessity, labels, error handling, mobile experience. Recommend streamlined version. Context: {{CHALLENGE}}", whyFits: "Forms are conversion bottlenecks.", howUsed: "A/B test new vs original." },
                    { id: 8, goal: "Pricing Page Optimization", prompt: "Audit {{BRAND}}'s pricing page. Evaluate: anchoring, feature clarity, CTA prominence, FAQ completeness, psychological pricing. Recommend changes. Goal: {{CHALLENGE}}", whyFits: "Pricing pages are high-stakes.", howUsed: "Measure revenue, not just clicks." },
                    { id: 9, goal: "Mobile Conversion Audit", prompt: "Audit {{BRAND}}'s site ({{WEBSITE}}) for mobile conversion. Evaluate: tap targets, form inputs, load speed, thumb zones. Recommend mobile-specific fixes. Context: {{CHALLENGE}}", whyFits: "Mobile often converts 2-3x worse.", howUsed: "Test on actual devices." },
                    { id: 10, goal: "Post-Test Analysis", prompt: "Create a post-test analysis framework for {{BRAND}}. Include: how to determine winners, why results occurred, learnings to apply, next test recommendations. Goal: {{CHALLENGE}}", whyFits: "Learning compounds faster than testing.", howUsed: "Run after every test." }
                ]
            },
            linkedin: {
                title: "LinkedIn — AI Prompt Library for Marketers",
                summary: "Elite LinkedIn creators treat the platform as a distribution engine, not a resume. They write for the algorithm first, humans second—understanding that hooks, formatting, and engagement patterns determine reach. Winners post consistently, lead with value, and build in public.",
                mentalModels: [
                    { name: "The Hook is Everything", description: "First 2 lines determine if anyone reads the rest.", lesson: "Write 10 hooks, pick the best one. If the hook fails, the post fails.", source: "Justin Welsh, The Saturday Solopreneur (2023)" },
                    { name: "Write for Skimmers", description: "Short sentences. Line breaks. White space.", lesson: "LinkedIn is mobile-first. Walls of text get scrolled past.", source: "Jasmin Alic, LinkedIn Creator (2022)" },
                    { name: "The 1-9-90 Rule", description: "1% create, 9% engage, 90% lurk.", lesson: "Your audience is bigger than your engagement suggests. Lurkers become customers.", source: "Sahil Bloom (2023)" },
                    { name: "Dwell Time > Likes", description: "The algorithm rewards time spent on post, not just reactions.", lesson: "Carousels and long posts with hooks keep people reading longer.", source: "Richard van der Blom, Algorithm Research (2023)" },
                    { name: "Personal + Professional", description: "People follow people, not brands.", lesson: "Share failures, lessons, behind-the-scenes. Vulnerability builds trust.", source: "Chris Walker, Refine Labs (2022)" },
                    { name: "Comment > Post", description: "Strategic commenting builds reach faster than posting alone.", lesson: "10 thoughtful comments on big accounts = more visibility than 1 post.", source: "Lara Acosta, LinkedIn Growth (2023)" }
                ],
                prompts: [
                    { id: 1, goal: "Hook Generator", prompt: "Generate 15 scroll-stopping hooks for {{BRAND}} LinkedIn posts in {{INDUSTRY}}. Include: 3 controversial/contrarian hooks, 3 curiosity gap hooks, 3 'mistake I made' hooks, 3 data-driven hooks, 3 story-based hooks. Each must work in under 10 words. Business context: {{CHALLENGE}}", whyFits: "The hook determines 80% of post performance.", howUsed: "Save hooks in a swipe file. Test one per post." },
                    { id: 2, goal: "Content Pillar Framework", prompt: "Create 5 LinkedIn content pillars for {{BRAND}} in {{INDUSTRY}}. For each pillar: theme, 5 post topics, ideal format (text/carousel/video), posting frequency. Ensure pillars tie to: {{CHALLENGE}}", whyFits: "Pillars prevent random posting and build authority.", howUsed: "Map each week to a pillar rotation." },
                    { id: 3, goal: "Carousel Post Creator", prompt: "Create a 10-slide LinkedIn carousel for {{BRAND}} on a topic relevant to {{INDUSTRY}}. Include: attention-grabbing cover slide, clear takeaways per slide, visual hierarchy notes, strong CTA on final slide. Business goal: {{CHALLENGE}}", whyFits: "Carousels get 3x the reach of text posts.", howUsed: "Design in Canva, post Tuesday-Thursday." },
                    { id: 4, goal: "Thought Leadership Post", prompt: "Write a LinkedIn thought leadership post for {{BRAND}}'s founder/executive. Topic should challenge conventional wisdom in {{INDUSTRY}}. Include: hook, personal story, contrarian insight, actionable takeaway. Context: {{CHALLENGE}}", whyFits: "Contrarian takes earn attention and shares.", howUsed: "Post from personal profile, not company page." },
                    { id: 5, goal: "Story-Based Post", prompt: "Write a story-based LinkedIn post for {{BRAND}} using the format: Hook → Struggle → Turning point → Lesson → CTA. The story should relate to {{INDUSTRY}} and address: {{CHALLENGE}}", whyFits: "Stories create emotional connection and memorability.", howUsed: "Use for milestone moments or lessons learned." },
                    { id: 6, goal: "Engagement Bait (Ethical)", prompt: "Create 5 LinkedIn posts for {{BRAND}} designed to drive comments. Include: polls, 'hot take' posts, 'which would you choose' posts, fill-in-the-blank posts. All should relate to {{INDUSTRY}}. Goal: {{CHALLENGE}}", whyFits: "Comments boost algorithmic reach more than likes.", howUsed: "Post 1-2x per week to boost overall engagement." },
                    { id: 7, goal: "Company Announcement Post", prompt: "Transform this {{BRAND}} company news into an engaging LinkedIn post: {{CHALLENGE}}. Avoid corporate speak. Lead with why it matters to the reader. Include: hook, the news, what it means for customers, human element.", whyFits: "Company news needs a human angle to perform.", howUsed: "Post from founder + reshare from company page." },
                    { id: 8, goal: "Weekly Content Calendar", prompt: "Create a 4-week LinkedIn content calendar for {{BRAND}}. Include: 3 posts per week, mix of formats (text, carousel, poll), content pillars, optimal posting times, engagement strategy. Business focus: {{CHALLENGE}}", whyFits: "Consistency beats sporadic viral attempts.", howUsed: "Schedule in Buffer or native LinkedIn." },
                    { id: 9, goal: "Comment Strategy", prompt: "Create a LinkedIn comment strategy for {{BRAND}} in {{INDUSTRY}}. Identify: 10 accounts to engage with daily, types of comments that add value, comment templates that start conversations, time investment required. Goal: {{CHALLENGE}}", whyFits: "Strategic commenting builds network faster than posting.", howUsed: "Spend 15 min before and after posting." },
                    { id: 10, goal: "Profile Optimization", prompt: "Audit and optimize the LinkedIn profile for {{BRAND}}'s key spokesperson. Include: headline formula, about section rewrite, featured section strategy, experience descriptions that sell, and CTA placement. Business context: {{CHALLENGE}}", whyFits: "Profile is your landing page—every post visitor sees it.", howUsed: "Update quarterly as positioning evolves." }
                ]
            },
            blog: {
                title: "Blog & Long-form — AI Prompt Library for Marketers",
                summary: "Elite content creators treat blogs as compounding assets, not one-off posts. They optimize for search intent, structure for skimmers, and build content moats that drive organic traffic for years. Every piece serves multiple purposes across the funnel.",
                mentalModels: [
                    { name: "The Skyscraper Technique", description: "Find what ranks, make something 10x better.", lesson: "Don't create—improve. Find top content, then add more depth, data, and design.", source: "Brian Dean, Backlinko (2015)" },
                    { name: "Search Intent Matching", description: "Google rewards content that matches what users actually want.", lesson: "A 'how to' query needs a tutorial, not a product page. Match format to intent.", source: "Ahrefs (2021)" },
                    { name: "The Inverted Pyramid", description: "Lead with the answer, then provide context.", lesson: "Put the most important information first. Most readers never reach the bottom.", source: "Journalism Standard (1900s)" },
                    { name: "Content-Led Growth Loops", description: "Each piece of content should generate more content opportunities.", lesson: "One pillar post → 10 spin-off articles → 50 social posts → backlinks → more traffic.", source: "Demand Curve (2022)" },
                    { name: "The 80/20 of Headlines", description: "8 out of 10 people read the headline, only 2 read the rest.", lesson: "Spend 50% of writing time on the headline. Test multiple versions.", source: "David Ogilvy (1963)" },
                    { name: "Compound Content", description: "Some content grows traffic over time, most decays.", lesson: "Identify evergreen topics that compound. Update them quarterly to maintain rankings.", source: "Tomasz Tunguz, Redpoint (2019)" }
                ],
                prompts: [
                    { id: 1, goal: "Blog Post Outline Generator", prompt: "Create a comprehensive blog post outline for {{BRAND}} on a topic relevant to {{INDUSTRY}}. Include: SEO-optimized H1, meta description, H2/H3 structure, key points per section, internal linking opportunities, and CTA placement. Target keyword intent: {{CHALLENGE}}", whyFits: "Structured outlines produce better content faster.", howUsed: "Generate before writing. Share with writers as brief." },
                    { id: 2, goal: "Headline & Hook Generator", prompt: "Generate 15 headline options for a {{BRAND}} blog post about {{CHALLENGE}} in the {{INDUSTRY}} space. Include: 3 'How to' headlines, 3 numbered list headlines, 3 question headlines, 3 controversial/contrarian headlines, 3 benefit-driven headlines. Rate each for SEO potential and click-worthiness.", whyFits: "Headlines determine 80% of whether content gets read.", howUsed: "A/B test top 2 options. Use losers for social promotion." },
                    { id: 3, goal: "Introduction Hook Writer", prompt: "Write 5 compelling blog post introductions for {{BRAND}} targeting {{INDUSTRY}} readers. Use these formats: 1) Story-based, 2) Statistic-led, 3) Contrarian statement, 4) Question hook, 5) Problem-agitation. Topic/goal: {{CHALLENGE}}", whyFits: "The intro determines if readers stay or bounce.", howUsed: "Test different hooks for different content types." },
                    { id: 4, goal: "Pillar Page Architecture", prompt: "Design a pillar page strategy for {{BRAND}} in {{INDUSTRY}}. Create: main pillar topic, 10-15 cluster article topics, internal linking structure, content hierarchy, and keyword targeting for each piece. Business goal: {{CHALLENGE}}", whyFits: "Pillar pages build topical authority and rank for competitive terms.", howUsed: "Plan quarterly pillar initiatives." },
                    { id: 5, goal: "Content Brief Template", prompt: "Create a detailed content brief for {{BRAND}}'s writing team. Include: target keyword, search intent, competitor analysis, required sections, word count, tone guidelines, SEO requirements, internal/external linking strategy, and success metrics. Topic: {{CHALLENGE}}", whyFits: "Detailed briefs produce consistent, high-quality content.", howUsed: "Use as template for all content assignments." },
                    { id: 6, goal: "Blog Post Refresher", prompt: "Create a framework for refreshing {{BRAND}}'s existing blog content. Include: criteria for selecting posts to update, checklist of elements to improve (stats, examples, structure, CTAs), SEO optimization steps, and republishing strategy. Context: {{CHALLENGE}}", whyFits: "Updating old content is often higher ROI than new content.", howUsed: "Run quarterly on top 20 traffic drivers." },
                    { id: 7, goal: "Thought Leadership Article", prompt: "Outline a thought leadership article for {{BRAND}}'s CEO/founder on a contrarian topic in {{INDUSTRY}}. Include: provocative thesis, supporting arguments with data, counter-arguments addressed, personal anecdotes, and call-to-action. Goal: {{CHALLENGE}}", whyFits: "Thought leadership builds authority and earns backlinks.", howUsed: "Publish monthly from executive byline." },
                    { id: 8, goal: "Listicle Framework", prompt: "Create a high-performing listicle structure for {{BRAND}} in {{INDUSTRY}}. Topic should address: {{CHALLENGE}}. Include: attention-grabbing title, intro hook, 10-15 list items with descriptions, visual/example suggestions per item, and strong conclusion with CTA.", whyFits: "Listicles are highly shareable and rank well for 'best' queries.", howUsed: "Use for comparison and resource content." },
                    { id: 9, goal: "Case Study Template", prompt: "Design a case study template for {{BRAND}} to showcase customer success. Include: headline formula, challenge-solution-results structure, specific metrics to capture, quote placement, visual requirements, and distribution plan. Business context: {{CHALLENGE}}", whyFits: "Case studies are bottom-funnel conversion gold.", howUsed: "Publish 1-2 per month. Gate for lead gen." },
                    { id: 10, goal: "Content Calendar Builder", prompt: "Build a 3-month blog content calendar for {{BRAND}} in {{INDUSTRY}}. Include: weekly publishing schedule, content mix (pillar/cluster/promotional), seasonal hooks, keyword targets per piece, and resource requirements. Strategic goal: {{CHALLENGE}}", whyFits: "Consistent publishing builds authority and traffic.", howUsed: "Plan quarterly. Review monthly." }
                ]
            },
            email: {
                title: "Email Campaigns — AI Prompt Library for Marketers",
                summary: "Elite email marketers think in sequences, not blasts. They architect automated journeys that nurture, convert, and retain—obsessing over subject lines, segmentation, and the metrics that actually matter: revenue per email, not open rates.",
                mentalModels: [
                    { name: "The 40/40/20 Rule", description: "40% list quality, 40% offer, 20% creative.", lesson: "Don't obsess over copy if your list is bad or offer is weak. Fix fundamentals first.", source: "Ed Mayer, Direct Mail Legend (1961)" },
                    { name: "One Email, One Goal", description: "Every email should have a single, clear objective.", lesson: "Multiple CTAs confuse readers. Pick one action and optimize everything for it.", source: "Joanna Wiebe, Copyhackers (2018)" },
                    { name: "The Preview Text Hack", description: "Preview text is your second headline—use it.", lesson: "Preview text appears in inbox. Treat it as headline extension, not throwaway.", source: "Litmus (2020)" },
                    { name: "Send Time Optimization", description: "When you send matters as much as what you send.", lesson: "Test send times by segment. B2B peaks Tuesday-Thursday 10am. B2C varies.", source: "Mailchimp Research (2022)" },
                    { name: "The Value-Ask Ratio", description: "Give value 3-4 times before making an ask.", lesson: "Subscribers tolerate promotion if you've earned trust with value first.", source: "Pat Flynn, Smart Passive Income (2019)" },
                    { name: "Behavior > Demographics", description: "Segment by actions, not just attributes.", lesson: "Someone who clicked 3 emails is warmer than someone who matches your ICP on paper.", source: "Klaviyo (2023)" }
                ],
                prompts: [
                    { id: 1, goal: "Welcome Sequence", prompt: "Create a 5-email welcome sequence for {{BRAND}} new subscribers in {{INDUSTRY}}. For each email: subject line, preview text, body copy, CTA, and send timing. Goals: introduce brand, deliver value, build trust, soft pitch. Business context: {{CHALLENGE}}", whyFits: "Welcome emails get 4x higher open rates—first impressions matter.", howUsed: "Set up as automated flow. Trigger on signup." },
                    { id: 2, goal: "Subject Line Generator", prompt: "Generate 20 subject lines for {{BRAND}}'s email campaign about {{CHALLENGE}}. Include: 4 curiosity-driven, 4 benefit-focused, 4 urgency/scarcity, 4 personalized, 4 question-based. Keep under 50 characters. Rate each for open potential.", whyFits: "Subject line determines if email gets opened at all.", howUsed: "A/B test top 2. Track winners in swipe file." },
                    { id: 3, goal: "Promotional Email", prompt: "Write a promotional email for {{BRAND}} announcing {{CHALLENGE}}. Include: attention-grabbing subject line, preview text, hero section, 3 key benefits, social proof element, urgency driver, and clear CTA. Target audience: {{INDUSTRY}} professionals.", whyFits: "Promotional emails drive direct revenue when done well.", howUsed: "Send to engaged segment. Follow up with non-openers." },
                    { id: 4, goal: "Re-engagement Campaign", prompt: "Create a 3-email re-engagement sequence for {{BRAND}}'s inactive subscribers (no opens in 90 days). Include: 'We miss you' angle, value reminder, final 'stay or go' email with clear choice. Goal: {{CHALLENGE}}", whyFits: "Win-back campaigns recover revenue and clean lists.", howUsed: "Automate for subscribers hitting inactivity threshold." },
                    { id: 5, goal: "Newsletter Template", prompt: "Design a weekly newsletter template for {{BRAND}} in {{INDUSTRY}}. Include: recurring sections, content mix ratios, subject line formula, personalization opportunities, and engagement hooks. Newsletter should support: {{CHALLENGE}}", whyFits: "Consistent newsletters build habit and trust.", howUsed: "Use template weekly. Rotate content types." },
                    { id: 6, goal: "Cart Abandonment Sequence", prompt: "Create a 3-email cart abandonment sequence for {{BRAND}}. Include: Email 1 (1hr - reminder), Email 2 (24hr - handle objections), Email 3 (72hr - urgency/incentive). Each needs subject, preview, body, and CTA. Context: {{CHALLENGE}}", whyFits: "Cart abandonment emails recover 5-15% of lost revenue.", howUsed: "Automate in e-commerce platform." },
                    { id: 7, goal: "Product Launch Sequence", prompt: "Design a 5-email product launch sequence for {{BRAND}} launching to {{INDUSTRY}} audience. Include: teaser, announcement, social proof, objection handling, last chance. Each email: timing, subject, key message, CTA. Launch goal: {{CHALLENGE}}", whyFits: "Sequenced launches outperform single-send announcements.", howUsed: "Schedule around launch date. Coordinate with other channels." },
                    { id: 8, goal: "Nurture Sequence", prompt: "Create a 7-email nurture sequence for {{BRAND}} leads in {{INDUSTRY}}. Map to buyer journey: awareness → consideration → decision. Each email: subject, value delivered, soft/hard CTA, timing. Goal: {{CHALLENGE}}", whyFits: "Nurtured leads produce 50% more sales at 33% lower cost.", howUsed: "Trigger on lead magnet download or form fill." },
                    { id: 9, goal: "Event/Webinar Promotion", prompt: "Create an email sequence promoting {{BRAND}}'s upcoming event/webinar. Include: announcement (2 weeks), reminder (1 week), last chance (1 day), day-of reminder, follow-up with replay. Target: {{INDUSTRY}} audience. Event topic: {{CHALLENGE}}", whyFits: "Multi-touch promotion dramatically increases registration.", howUsed: "Automate based on event date." },
                    { id: 10, goal: "Feedback Request Email", prompt: "Write 3 versions of a feedback/survey request email for {{BRAND}}. Include: subject line, why their input matters, what's in it for them, clear CTA to survey. Keep under 150 words. Context: {{CHALLENGE}}", whyFits: "Customer feedback drives product and content decisions.", howUsed: "Send post-purchase or post-milestone." }
                ]
            },
            social: {
                title: "Social Media — AI Prompt Library for Marketers",
                summary: "Elite social media marketers think platform-native, not cross-post. They understand each algorithm's rewards, create for mobile-first consumption, and build engaged communities—not just follower counts. Consistency and authenticity beat polish.",
                mentalModels: [
                    { name: "Platform-Native Content", description: "What works on LinkedIn fails on TikTok and vice versa.", lesson: "Create for each platform's culture and format. Repurpose the idea, not the asset.", source: "Gary Vaynerchuk (2020)" },
                    { name: "The 3-Second Rule", description: "You have 3 seconds to stop the scroll.", lesson: "Lead with movement, contrast, or pattern interrupt. Hook fast or lose them.", source: "TikTok Creator Playbook (2022)" },
                    { name: "Community > Audience", description: "Audiences consume, communities participate.", lesson: "Reply to every comment. Create inside jokes. Make followers feel like insiders.", source: "David Spinks, CMX (2021)" },
                    { name: "The Pareto of Posting", description: "80% of results come from 20% of content types.", lesson: "Find your winning formats and double down. Kill what doesn't work.", source: "Buffer Research (2023)" },
                    { name: "Algorithm = Engagement Velocity", description: "How fast you get engagement determines reach.", lesson: "Post when your audience is active. Engage in first 30 minutes.", source: "Later (2023)" },
                    { name: "The Authenticity Premium", description: "Raw and real outperforms polished and produced.", lesson: "Behind-the-scenes, fails, and unfiltered moments build trust faster than ads.", source: "Hootsuite (2023)" }
                ],
                prompts: [
                    { id: 1, goal: "Twitter/X Thread Creator", prompt: "Create a viral Twitter/X thread for {{BRAND}} on a topic relevant to {{INDUSTRY}}. Include: hook tweet (under 280 chars), 8-10 value tweets, engagement tweet asking for replies, and CTA tweet. Topic should address: {{CHALLENGE}}", whyFits: "Threads get 10x the engagement of single tweets.", howUsed: "Post threads 2-3x per week. Best times: Tue-Thu 9am." },
                    { id: 2, goal: "Instagram Caption Generator", prompt: "Write 10 Instagram captions for {{BRAND}} in {{INDUSTRY}}. Include: mix of storytelling, educational, behind-the-scenes, and promotional. Each caption: hook, body, CTA, and 5 relevant hashtags. Theme: {{CHALLENGE}}", whyFits: "Captions drive comments which drive reach.", howUsed: "Batch create weekly. Save hashtag sets." },
                    { id: 3, goal: "TikTok/Reels Script", prompt: "Create 5 short-form video scripts (15-60 sec) for {{BRAND}} targeting {{INDUSTRY}} audience. Include: hook (first 3 sec), main content, CTA, and trending audio suggestions. Videos should address: {{CHALLENGE}}", whyFits: "Short-form video is highest-reach format in 2024.", howUsed: "Film in batches. Post 1-2x daily during testing." },
                    { id: 4, goal: "Content Pillar Strategy", prompt: "Create a social media content pillar strategy for {{BRAND}} across platforms. Define 5 pillars, each with: theme, content formats, posting frequency, example posts, and how it ties to {{CHALLENGE}}", whyFits: "Pillars ensure variety while building recognizable themes.", howUsed: "Rotate pillars throughout the week." },
                    { id: 5, goal: "Engagement Post Templates", prompt: "Create 10 high-engagement social media posts for {{BRAND}}. Include: polls, 'this or that', controversial opinions, fill-in-the-blank, questions, and challenges. All should relate to {{INDUSTRY}}. Goal: {{CHALLENGE}}", whyFits: "Engagement posts train the algorithm to show your content.", howUsed: "Post 2-3 engagement posts per week." },
                    { id: 6, goal: "Social Media Calendar", prompt: "Build a 2-week social media calendar for {{BRAND}} across Twitter, Instagram, and LinkedIn. Include: daily posts, content types, best posting times per platform, and engagement windows. Theme: {{CHALLENGE}}", whyFits: "Consistency beats sporadic posting every time.", howUsed: "Schedule in Buffer/Hootsuite. Batch create content." },
                    { id: 7, goal: "Brand Voice Guidelines", prompt: "Create social media brand voice guidelines for {{BRAND}} in {{INDUSTRY}}. Define: tone attributes, words to use/avoid, emoji usage, response templates, and examples of on-brand vs off-brand posts. Context: {{CHALLENGE}}", whyFits: "Consistent voice builds recognition and trust.", howUsed: "Share with all team members who post." },
                    { id: 8, goal: "Hashtag Strategy", prompt: "Develop a hashtag strategy for {{BRAND}} on Instagram and Twitter. Include: 10 niche hashtags, 10 medium-competition hashtags, 5 broad hashtags, branded hashtag options, and hashtag groupings by content type. Industry: {{INDUSTRY}}", whyFits: "Strategic hashtags increase discoverability.", howUsed: "Save hashtag sets. Rotate to avoid shadowban." },
                    { id: 9, goal: "User-Generated Content Campaign", prompt: "Design a UGC campaign for {{BRAND}} to encourage customer content creation. Include: campaign concept, hashtag, incentive structure, submission guidelines, and promotion plan. Goal: {{CHALLENGE}}", whyFits: "UGC provides social proof and free content.", howUsed: "Launch quarterly. Feature best submissions." },
                    { id: 10, goal: "Crisis Response Templates", prompt: "Create social media crisis response templates for {{BRAND}}. Include: templates for negative feedback, product issues, PR situations, and tone guidelines for sensitive topics. Context: {{INDUSTRY}}", whyFits: "Prepared responses prevent panic decisions.", howUsed: "Keep in team handbook. Update as situations arise." }
                ]
            }
        };

        // ===== STATE =====
        let state = {
            step: 'landing', // 'landing', 'brand-input', 'discipline-select', 'library-view', 'llm-output'
            mode: 'strategy', // 'strategy' or 'execution'
            brand: '',
            website: '',
            industry: '',
            challenge: '',
            discipline: null,
            library: null,
            expandedModels: {},
            expandedPrompts: {},
            copiedId: null,
            selectedPrompt: null,
            llmOutput: '',
            isLoading: false,
            apiKey: localStorage.getItem('openai_api_key') || '',
            llmProvider: localStorage.getItem('llm_provider') || 'openai'
        };

        // ===== ICONS =====
        const icons = {
            sparkles: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>',
            brain: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg>',
            zap: '<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>',
            copy: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></svg>',
            check: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>',
            chevronDown: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>',
            chevronUp: '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"/></svg>',
            play: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>',
            arrowRight: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>',
            arrowLeft: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>',
            settings: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>',
            book: '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>',
            target: '<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>',
            lightbulb: '<svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>',
            globe: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>'
        };

        const disciplines = [
            { value: 'seo', label: 'SEO', icon: '🔍', desc: 'Search engine optimization' },
            { value: 'paid', label: 'Paid Media', icon: '💰', desc: 'Ads & performance marketing' },
            { value: 'lifecycle', label: 'Lifecycle', icon: '🔄', desc: 'Retention & automation' },
            { value: 'content', label: 'Content', icon: '✍️', desc: 'Content marketing & distribution' },
            { value: 'conversion', label: 'CRO', icon: '📈', desc: 'Conversion rate optimization' },
            { value: 'linkedin', label: 'LinkedIn', icon: '💼', desc: 'Posts, carousels & engagement' },
            { value: 'blog', label: 'Blog', icon: '📝', desc: 'Long-form articles & SEO content' },
            { value: 'email', label: 'Email', icon: '📧', desc: 'Campaigns, sequences & newsletters' },
            { value: 'social', label: 'Social', icon: '📱', desc: 'Twitter, Instagram, TikTok & more' }
        ];

        // ===== HELPERS =====
        function personalizePrompt(template) {
            return template
                .replace(/\{\{BRAND\}\}/g, state.brand || '[Brand]')
                .replace(/\{\{WEBSITE\}\}/g, state.website || '[Website]')
                .replace(/\{\{INDUSTRY\}\}/g, state.industry || '[Industry]')
                .replace(/\{\{CHALLENGE\}\}/g, state.challenge || '[Challenge]');
        }

        function copyToClipboard(text, id) {
            navigator.clipboard.writeText(text).then(() => {
                state.copiedId = id;
                render();
                setTimeout(() => { state.copiedId = null; render(); }, 2000);
            });
        }

        function copyLLMOutput(id) {
            const isNoApiKey = state.llmOutput.startsWith('__NO_API_KEY__');
            const content = isNoApiKey ? state.llmOutput.replace('__NO_API_KEY__\n\n', '') : state.llmOutput;
            copyToClipboard(content, id);
        }

        function simpleMarkdown(text) {
            return text
                .replace(/^### (.*$)/gim, '<h3>$1</h3>')
                .replace(/^## (.*$)/gim, '<h2>$1</h2>')
                .replace(/^# (.*$)/gim, '<h1>$1</h1>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/`(.*?)`/g, '<code>$1</code>')
                .replace(/^\- (.*$)/gim, '<li>$1</li>')
                .replace(/^\d+\. (.*$)/gim, '<li>$1</li>')
                .replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>')
                .replace(/\n\n/g, '</p><p>')
                .replace(/\n/g, '<br>');
        }

        // ===== LLM INTEGRATION =====
        function getSystemPrompt() {
            if (state.mode === 'execution') {
                return `You are an elite marketing executor. Your job is to CREATE ready-to-use content, not explain strategy.

IMPORTANT RULES FOR EXECUTION MODE:
- Output ACTUAL content that can be copied and used immediately
- No explanations, frameworks, or "here's how to think about it"
- No bullet points of tips—give the ACTUAL deliverable
- For posts: Write the full post, ready to copy-paste
- For emails: Write the full email copy
- For hooks: Just the hooks, no explanations
- For calendars: Actual dates, actual post copy
- Use markdown formatting for clarity
- Be specific to the brand and context provided`;
            } else {
                return `You are an elite marketing strategist. Provide detailed, actionable recommendations based on the prompt.

IMPORTANT RULES FOR STRATEGY MODE:
- Explain the thinking and frameworks behind your recommendations
- Provide examples and templates they can adapt
- Include best practices and mental models
- Help them understand WHY, not just WHAT
- Use markdown formatting for clarity`;
            }
        }

        async function runPromptWithLLM(prompt) {
            state.isLoading = true;
            state.llmOutput = '';
            state.step = 'llm-output';
            render();

            const personalizedPrompt = personalizePrompt(prompt);
            const systemPrompt = getSystemPrompt();

            try {
                if (state.llmProvider === 'openai' && state.apiKey) {
                    const response = await fetch('https://api.openai.com/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${state.apiKey}`
                        },
                        body: JSON.stringify({
                            model: 'gpt-4o',
                            messages: [
                                { role: 'system', content: systemPrompt },
                                { role: 'user', content: personalizedPrompt }
                            ],
                            max_tokens: 4000
                        })
                    });

                    const data = await response.json();
                    if (data.error) {
                        state.llmOutput = `Error: ${data.error.message}`;
                    } else {
                        state.llmOutput = data.choices[0].message.content;
                    }
                } else if (state.llmProvider === 'anthropic' && state.apiKey) {
                    const response = await fetch('https://api.anthropic.com/v1/messages', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'x-api-key': state.apiKey,
                            'anthropic-version': '2023-06-01',
                            'anthropic-dangerous-direct-browser-access': 'true'
                        },
                        body: JSON.stringify({
                            model: 'claude-sonnet-4-20250514',
                            max_tokens: 4000,
                            messages: [
                                { role: 'user', content: personalizedPrompt }
                            ],
                            system: systemPrompt
                        })
                    });

                    const data = await response.json();
                    if (data.error) {
                        state.llmOutput = `Error: ${data.error.message}`;
                    } else {
                        state.llmOutput = data.content[0].text;
                    }
                } else {
                    // No API key - show copy prompt option
                    state.llmOutput = `__NO_API_KEY__\n\n${personalizedPrompt}`;
                }
            } catch (error) {
                state.llmOutput = `Error: ${error.message}`;
            }

            state.isLoading = false;
            render();
        }

        // ===== RENDER FUNCTIONS =====
        function renderBrandInput() {
            return `
                <div class="max-w-2xl mx-auto">
                    <div class="text-center mb-8">
                        <h2 class="text-3xl font-bold mb-4">Tell us about your business</h2>
                        <p class="text-slate-400">We'll personalize every prompt to your specific context</p>
                    </div>

                    <div class="bg-slate-800 rounded-2xl p-6 border border-slate-700 space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Brand Name *</label>
                            <input
                                type="text"
                                id="brand"
                                value="${state.brand}"
                                placeholder="e.g., Acme Inc."
                                class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500"
                            />
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Website</label>
                            <div class="flex items-center gap-2">
                                <span class="text-slate-500">${icons.globe}</span>
                                <input
                                    type="text"
                                    id="website"
                                    value="${state.website}"
                                    placeholder="e.g., acme.com"
                                    class="flex-1 px-4 py-3 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500"
                                />
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Industry / Niche *</label>
                            <input
                                type="text"
                                id="industry"
                                value="${state.industry}"
                                placeholder="e.g., B2B SaaS, E-commerce, Healthcare"
                                class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500"
                            />
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-slate-300 mb-2">Business Challenge *</label>
                            <textarea
                                id="challenge"
                                rows="3"
                                placeholder="e.g., We need to increase organic traffic by 50% in Q1 to reduce CAC..."
                                class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500 resize-none"
                            >${state.challenge}</textarea>
                            <p class="text-xs text-slate-500 mt-2">Be specific—this context makes the prompts 10x more useful</p>
                        </div>

                        <div class="pt-4 border-t border-slate-700">
                            <label class="block text-sm font-medium text-slate-300 mb-2">LLM Provider (optional)</label>
                            <div class="flex gap-3 mb-3">
                                <button onclick="setProvider('openai')" class="flex-1 px-4 py-2 rounded-lg border ${state.llmProvider === 'openai' ? 'border-purple-500 bg-purple-500/20 text-purple-300' : 'border-slate-600 text-slate-400 hover:border-slate-500'}">OpenAI</button>
                                <button onclick="setProvider('anthropic')" class="flex-1 px-4 py-2 rounded-lg border ${state.llmProvider === 'anthropic' ? 'border-purple-500 bg-purple-500/20 text-purple-300' : 'border-slate-600 text-slate-400 hover:border-slate-500'}">Anthropic</button>
                                <button onclick="setProvider('none')" class="flex-1 px-4 py-2 rounded-lg border ${state.llmProvider === 'none' ? 'border-purple-500 bg-purple-500/20 text-purple-300' : 'border-slate-600 text-slate-400 hover:border-slate-500'}">Copy Only</button>
                            </div>
                            ${state.llmProvider !== 'none' ? `
                                <input
                                    type="password"
                                    id="apiKey"
                                    value="${state.apiKey}"
                                    placeholder="${state.llmProvider === 'openai' ? 'sk-...' : 'sk-ant-...'}"
                                    class="w-full px-4 py-3 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:border-purple-500"
                                />
                                <p class="text-xs text-slate-500 mt-2">Stored locally in your browser only</p>
                            ` : '<p class="text-xs text-slate-500">Prompts will be copied to clipboard for use in any LLM</p>'}
                        </div>

                        <button
                            onclick="submitBrandInfo()"
                            class="w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all"
                        >
                            Continue to Prompt Library
                            ${icons.arrowRight}
                        </button>
                    </div>
                </div>
            `;
        }

        function renderDisciplineSelect() {
            return `
                <div class="max-w-3xl mx-auto">
                    <div class="text-center mb-8">
                        <div class="inline-flex items-center gap-2 px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm mb-4">
                            <span class="font-medium">${state.brand}</span>
                            <span class="text-slate-500">•</span>
                            <span>${state.industry}</span>
                        </div>
                        <h2 class="text-3xl font-bold mb-4">Choose Your Marketing Focus</h2>
                        <p class="text-slate-400">Select a discipline to get personalized prompts for ${state.brand}</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        ${disciplines.map(d => `
                            <button
                                onclick="selectDiscipline('${d.value}')"
                                class="p-6 rounded-xl border-2 transition-all text-left border-slate-700 bg-slate-800 hover:border-purple-500 hover:bg-slate-700 group"
                            >
                                <div class="text-3xl mb-3">${d.icon}</div>
                                <div class="font-semibold text-lg mb-1 group-hover:text-purple-300">${d.label}</div>
                                <div class="text-sm text-slate-400">${d.desc}</div>
                            </button>
                        `).join('')}
                    </div>

                    <button
                        onclick="goBack('brand-input')"
                        class="mt-8 mx-auto flex items-center gap-2 text-slate-400 hover:text-white transition-colors"
                    >
                        ${icons.arrowLeft}
                        Edit business info
                    </button>
                </div>
            `;
        }

        function renderMentalModel(model, index) {
            const isOpen = state.expandedModels[index];
            return `
                <div class="bg-slate-800 rounded-xl p-4 border border-slate-700">
                    <div class="flex items-start justify-between cursor-pointer" onclick="toggleModel(${index})">
                        <div class="flex items-start gap-3">
                            <div class="w-8 h-8 rounded-lg bg-purple-600/20 flex items-center justify-center flex-shrink-0 text-purple-400">${icons.brain}</div>
                            <div>
                                <h4 class="font-semibold text-white">${model.name}</h4>
                                <p class="text-sm text-slate-400 mt-1">${model.description}</p>
                            </div>
                        </div>
                        <button class="text-slate-500 hover:text-slate-300">${isOpen ? icons.chevronUp : icons.chevronDown}</button>
                    </div>
                    ${isOpen ? `
                        <div class="mt-4 pt-4 border-t border-slate-700 space-y-3">
                            <div class="flex items-start gap-2">
                                <span class="text-yellow-400 mt-1">${icons.lightbulb}</span>
                                <p class="text-sm text-slate-300">${model.lesson}</p>
                            </div>
                            <div class="flex items-center gap-2 text-xs text-slate-500">${icons.book}<span>${model.source}</span></div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function renderPrompt(prompt, index) {
            const isExpanded = state.expandedPrompts[index];
            const isCopied = state.copiedId === prompt.id;
            const personalizedPrompt = personalizePrompt(prompt.prompt);
            const displayText = isExpanded ? personalizedPrompt : (personalizedPrompt.length > 180 ? personalizedPrompt.slice(0, 180) + '...' : personalizedPrompt);

            return `
                <div class="bg-slate-800 rounded-xl border border-slate-700 overflow-hidden">
                    <div class="p-4">
                        <div class="flex items-start justify-between gap-4">
                            <div class="flex items-start gap-3">
                                <div class="w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center flex-shrink-0 font-bold text-white">${prompt.id}</div>
                                <div>
                                    <div class="flex items-center gap-2">
                                        <span class="text-xs font-medium text-cyan-400 uppercase tracking-wide">Prompt ${prompt.id}</span>
                                    </div>
                                    <h4 class="font-semibold text-white mt-1">${prompt.goal}</h4>
                                </div>
                            </div>
                            <div class="flex gap-2">
                                <button
                                    onclick="copyToClipboard(\`${personalizedPrompt.replace(/`/g, '\\`').replace(/\$/g, '\\$')}\`, ${prompt.id})"
                                    class="p-2 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors ${isCopied ? 'text-green-400' : 'text-slate-400'}"
                                    title="Copy prompt"
                                >${isCopied ? icons.check : icons.copy}</button>
                                <button
                                    onclick="runPrompt(${index})"
                                    class="px-3 py-2 rounded-lg bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white text-sm font-medium flex items-center gap-1 transition-all"
                                    title="Run with AI"
                                >${icons.play} Run</button>
                            </div>
                        </div>

                        <div class="mt-4 p-4 bg-slate-900 rounded-lg">
                            <p class="text-sm text-slate-300 font-mono leading-relaxed">${displayText}</p>
                            ${personalizedPrompt.length > 180 ? `
                                <button onclick="togglePrompt(${index})" class="text-xs text-cyan-400 hover:text-cyan-300 mt-2 flex items-center gap-1">
                                    ${isExpanded ? 'Show less' : 'Show more'}
                                    ${isExpanded ? icons.chevronUp : icons.chevronDown}
                                </button>
                            ` : ''}
                        </div>

                        <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div class="p-3 bg-slate-900/50 rounded-lg">
                                <div class="flex items-center gap-2 text-xs font-medium text-purple-400 mb-2">${icons.target} Why this fits</div>
                                <p class="text-xs text-slate-400">${prompt.whyFits}</p>
                            </div>
                            <div class="p-3 bg-slate-900/50 rounded-lg">
                                <div class="flex items-center gap-2 text-xs font-medium text-green-400 mb-2">${icons.zap} How to use it</div>
                                <p class="text-xs text-slate-400">${prompt.howUsed}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderLibrary() {
            const lib = state.library;
            return `
                <div class="space-y-8">
                    <div class="flex items-center justify-between">
                        <button onclick="goBack('discipline-select')" class="flex items-center gap-2 text-slate-400 hover:text-white transition-colors">
                            ${icons.arrowLeft} Back
                        </button>
                        <div class="inline-flex items-center gap-2 px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm">
                            <span class="font-medium">${state.brand}</span>
                        </div>
                    </div>

                    <!-- Mode Toggle -->
                    <div class="flex justify-center">
                        <div class="inline-flex items-center bg-slate-800 rounded-xl p-1 border border-slate-700">
                            <button
                                onclick="setMode('strategy')"
                                class="px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all ${state.mode === 'strategy' ? 'bg-purple-600 text-white' : 'text-slate-400 hover:text-white'}"
                            >
                                📋 Strategy
                            </button>
                            <button
                                onclick="setMode('execution')"
                                class="px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-all ${state.mode === 'execution' ? 'bg-green-600 text-white' : 'text-slate-400 hover:text-white'}"
                            >
                                ⚡ Execution
                            </button>
                        </div>
                    </div>
                    <p class="text-center text-sm text-slate-500">
                        ${state.mode === 'strategy'
                            ? 'Get frameworks, analysis, and strategic recommendations'
                            : 'Get ready-to-use content you can copy and publish immediately'}
                    </p>

                    <div class="text-center max-w-3xl mx-auto">
                        <h2 class="text-2xl md:text-3xl font-bold mb-4">${lib.title}</h2>
                        <p class="text-slate-400 leading-relaxed">${lib.summary}</p>
                    </div>

                    <section>
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-8 h-8 rounded-lg bg-purple-600/20 flex items-center justify-center text-purple-400">${icons.brain}</div>
                            <h3 class="text-xl font-bold">Mental Models</h3>
                            <span class="text-sm text-slate-500">(${lib.mentalModels.length})</span>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${lib.mentalModels.map((m, i) => renderMentalModel(m, i)).join('')}
                        </div>
                    </section>

                    <section>
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-8 h-8 rounded-lg bg-cyan-600/20 flex items-center justify-center text-cyan-400">${icons.zap}</div>
                            <h3 class="text-xl font-bold">Personalized Prompts</h3>
                            <span class="text-sm text-slate-500">(10)</span>
                        </div>
                        <div class="space-y-4">
                            ${lib.prompts.map((p, i) => renderPrompt(p, i)).join('')}
                        </div>
                    </section>
                </div>
            `;
        }

        function renderLLMOutput() {
            const isNoApiKey = state.llmOutput.startsWith('__NO_API_KEY__');
            const content = isNoApiKey ? state.llmOutput.replace('__NO_API_KEY__\n\n', '') : state.llmOutput;

            return `
                <div class="max-w-4xl mx-auto space-y-6">
                    <div class="flex items-center justify-between">
                        <button onclick="goBack('library-view')" class="flex items-center gap-2 text-slate-400 hover:text-white transition-colors">
                            ${icons.arrowLeft} Back to Prompts
                        </button>
                        <div class="flex gap-2">
                            <button
                                onclick="copyLLMOutput('output')"
                                class="px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm flex items-center gap-2 transition-colors ${state.copiedId === 'output' ? 'text-green-400' : ''}"
                            >
                                ${state.copiedId === 'output' ? icons.check : icons.copy}
                                Copy
                            </button>
                        </div>
                    </div>

                    ${state.selectedPrompt ? `
                        <div class="bg-slate-800/50 rounded-xl p-4 border border-slate-700">
                            <div class="flex items-center justify-between mb-3">
                                <div>
                                    <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Prompt Used</div>
                                    <div class="text-sm text-slate-300">${state.selectedPrompt.goal}</div>
                                </div>
                            </div>
                            <div class="flex items-center justify-between pt-3 border-t border-slate-700">
                                <div class="inline-flex items-center bg-slate-900 rounded-lg p-1">
                                    <button
                                        onclick="switchModeAndRerun('strategy')"
                                        class="px-3 py-1.5 rounded-md text-xs font-medium flex items-center gap-1.5 transition-all ${state.mode === 'strategy' ? 'bg-purple-600 text-white' : 'text-slate-400 hover:text-white'}"
                                    >
                                        📋 Strategy
                                    </button>
                                    <button
                                        onclick="switchModeAndRerun('execution')"
                                        class="px-3 py-1.5 rounded-md text-xs font-medium flex items-center gap-1.5 transition-all ${state.mode === 'execution' ? 'bg-green-600 text-white' : 'text-slate-400 hover:text-white'}"
                                    >
                                        ⚡ Execution
                                    </button>
                                </div>
                                <span class="text-xs text-slate-500">Switch mode to regenerate</span>
                            </div>
                        </div>
                    ` : ''}

                    <div class="bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden">
                        <div class="p-4 border-b border-slate-700 flex items-center justify-between">
                            <div class="flex items-center gap-2">
                                ${icons.sparkles}
                                <span class="font-medium">${isNoApiKey ? 'Ready to Copy' : 'AI Response'}</span>
                            </div>
                            ${state.isLoading ? '<div class="w-4 h-4 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"></div>' : ''}
                        </div>
                        <div class="p-6">
                            ${state.isLoading ? `
                                <div class="flex items-center gap-3 text-slate-400">
                                    <div class="w-5 h-5 border-2 border-purple-400 border-t-transparent rounded-full animate-spin"></div>
                                    <span>Generating personalized strategy for ${state.brand}...</span>
                                </div>
                            ` : isNoApiKey ? `
                                <div class="space-y-4">
                                    <p class="text-slate-400">No API key configured. Copy this personalized prompt and paste it into your preferred LLM:</p>
                                    <div class="bg-slate-900 rounded-lg p-4 font-mono text-sm text-slate-300 whitespace-pre-wrap">${content}</div>
                                    <button
                                        onclick="copyLLMOutput('prompt-copy')"
                                        class="w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 rounded-xl font-semibold flex items-center justify-center gap-2"
                                    >
                                        ${state.copiedId === 'prompt-copy' ? icons.check : icons.copy}
                                        ${state.copiedId === 'prompt-copy' ? 'Copied!' : 'Copy Prompt'}
                                    </button>
                                </div>
                            ` : `
                                <div class="markdown-output text-slate-300 leading-relaxed">
                                    ${simpleMarkdown(content)}
                                </div>
                            `}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderLanding() {
            return `
                <div class="min-h-[80vh] flex flex-col">
                    <!-- Hero Section -->
                    <div class="flex-1 flex flex-col items-center justify-center text-center px-4 py-12">
                        <div class="inline-flex items-center gap-2 px-4 py-2 bg-purple-500/10 border border-purple-500/20 rounded-full text-purple-300 text-sm mb-8">
                            ${icons.sparkles}
                            <span>By Fabrica Collective</span>
                        </div>

                        <h1 class="text-5xl md:text-7xl font-bold mb-4 max-w-4xl leading-tight">
                            <span class="bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">Amplify</span>
                        </h1>
                        <p class="text-2xl md:text-3xl font-semibold text-white mb-3">
                            AI-powered marketing
                        </p>
                        <p class="text-xl text-slate-400 mb-8 max-w-2xl">
                            Your AI marketing team in a browser — from strategy to send
                        </p>

                        <p class="text-base text-slate-500 max-w-2xl mb-8 leading-relaxed">
                            90 expert prompts across 9 disciplines. Personalized to your brand. Powered by the strategic wisdom of legendary creative minds.
                        </p>

                        <!-- Strategy/Execution Badge -->
                        <div class="flex items-center justify-center gap-3 mb-10">
                            <div class="inline-flex items-center bg-slate-800 rounded-xl p-1.5 border border-slate-700">
                                <div class="px-4 py-2 rounded-lg bg-purple-600 text-white text-sm font-medium flex items-center gap-2">
                                    📋 Strategy Mode
                                </div>
                                <div class="px-4 py-2 rounded-lg text-slate-400 text-sm font-medium flex items-center gap-2">
                                    ⚡ Execution Mode
                                </div>
                            </div>
                        </div>
                        <p class="text-sm text-slate-500 mb-10 max-w-lg mx-auto">
                            Toggle between <span class="text-purple-400">Strategy</span> for frameworks & analysis or <span class="text-green-400">Execution</span> for ready-to-use content you can copy and publish immediately
                        </p>

                        <button
                            onclick="state.step = 'brand-input'; render();"
                            class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 rounded-xl font-semibold text-lg flex items-center gap-3 transition-all shadow-lg shadow-purple-500/25 hover:shadow-purple-500/40"
                        >
                            Get Started — It's Free
                            ${icons.arrowRight}
                        </button>
                    </div>

                    <!-- How It Works -->
                    <div class="py-16 border-t border-slate-800">
                        <h2 class="text-2xl font-bold text-center mb-12">How It Works</h2>
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 max-w-5xl mx-auto">
                            <div class="text-center">
                                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-purple-500/20 to-purple-600/20 flex items-center justify-center mx-auto mb-4 text-2xl border border-purple-500/20">1</div>
                                <h3 class="font-semibold text-lg mb-2">Add Your Context</h3>
                                <p class="text-slate-400 text-sm">Enter your brand, website, industry, and business challenge</p>
                            </div>
                            <div class="text-center">
                                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-cyan-500/20 to-cyan-600/20 flex items-center justify-center mx-auto mb-4 text-2xl border border-cyan-500/20">2</div>
                                <h3 class="font-semibold text-lg mb-2">Pick a Discipline</h3>
                                <p class="text-slate-400 text-sm">Choose from 9 disciplines: SEO, Email, Social, Blog, and more</p>
                            </div>
                            <div class="text-center">
                                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-pink-500/20 to-pink-600/20 flex items-center justify-center mx-auto mb-4 text-2xl border border-pink-500/20">3</div>
                                <h3 class="font-semibold text-lg mb-2">Choose Your Mode</h3>
                                <p class="text-slate-400 text-sm">Strategy for frameworks & planning, or Execution for ready-to-use content</p>
                            </div>
                            <div class="text-center">
                                <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-green-500/20 to-green-600/20 flex items-center justify-center mx-auto mb-4 text-2xl border border-green-500/20">4</div>
                                <h3 class="font-semibold text-lg mb-2">Run or Copy</h3>
                                <p class="text-slate-400 text-sm">Execute with AI instantly, or copy to your favorite tool</p>
                            </div>
                        </div>
                    </div>

                    <!-- Strategy vs Execution -->
                    <div class="py-16 border-t border-slate-800">
                        <h2 class="text-2xl font-bold text-center mb-4">Two Modes, One Tool</h2>
                        <p class="text-slate-400 text-center mb-12 max-w-xl mx-auto">Switch instantly between planning and doing—no more context switching between tools</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                            <div class="p-6 bg-gradient-to-br from-purple-500/10 to-purple-600/5 rounded-2xl border border-purple-500/20">
                                <div class="flex items-center gap-3 mb-4">
                                    <div class="w-12 h-12 rounded-xl bg-purple-600 flex items-center justify-center text-2xl">📋</div>
                                    <div>
                                        <h3 class="font-bold text-lg text-purple-300">Strategy Mode</h3>
                                        <p class="text-sm text-slate-400">Think & Plan</p>
                                    </div>
                                </div>
                                <ul class="space-y-2 text-sm text-slate-300">
                                    <li class="flex items-start gap-2"><span class="text-purple-400">→</span> Frameworks and mental models</li>
                                    <li class="flex items-start gap-2"><span class="text-purple-400">→</span> Strategic recommendations</li>
                                    <li class="flex items-start gap-2"><span class="text-purple-400">→</span> Analysis and insights</li>
                                    <li class="flex items-start gap-2"><span class="text-purple-400">→</span> Templates you can adapt</li>
                                </ul>
                            </div>
                            <div class="p-6 bg-gradient-to-br from-green-500/10 to-green-600/5 rounded-2xl border border-green-500/20">
                                <div class="flex items-center gap-3 mb-4">
                                    <div class="w-12 h-12 rounded-xl bg-green-600 flex items-center justify-center text-2xl">⚡</div>
                                    <div>
                                        <h3 class="font-bold text-lg text-green-300">Execution Mode</h3>
                                        <p class="text-sm text-slate-400">Create & Ship</p>
                                    </div>
                                </div>
                                <ul class="space-y-2 text-sm text-slate-300">
                                    <li class="flex items-start gap-2"><span class="text-green-400">→</span> Ready-to-publish content</li>
                                    <li class="flex items-start gap-2"><span class="text-green-400">→</span> Copy-paste deliverables</li>
                                    <li class="flex items-start gap-2"><span class="text-green-400">→</span> Full emails, posts, scripts</li>
                                    <li class="flex items-start gap-2"><span class="text-green-400">→</span> No fluff, just output</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- What You Get -->
                    <div class="py-16 border-t border-slate-800">
                        <h2 class="text-2xl font-bold text-center mb-12">What You Get</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto">
                            <div class="flex items-start gap-4 p-5 bg-slate-800/50 rounded-xl border border-slate-700">
                                <div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center flex-shrink-0 text-purple-400">${icons.brain}</div>
                                <div>
                                    <h3 class="font-semibold mb-1">50+ Mental Models</h3>
                                    <p class="text-sm text-slate-400">Strategic frameworks from elite marketers at Reforge, CXL, Demand Curve, and more</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4 p-5 bg-slate-800/50 rounded-xl border border-slate-700">
                                <div class="w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center flex-shrink-0 text-cyan-400">${icons.zap}</div>
                                <div>
                                    <h3 class="font-semibold mb-1">90 Personalized Prompts</h3>
                                    <p class="text-sm text-slate-400">Battle-tested prompts automatically customized with your brand context</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4 p-5 bg-slate-800/50 rounded-xl border border-slate-700">
                                <div class="w-10 h-10 rounded-lg bg-green-500/20 flex items-center justify-center flex-shrink-0 text-green-400">${icons.play}</div>
                                <div>
                                    <h3 class="font-semibold mb-1">One-Click AI Execution</h3>
                                    <p class="text-sm text-slate-400">Run prompts instantly with Claude or GPT-4, or copy for any LLM</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-4 p-5 bg-slate-800/50 rounded-xl border border-slate-700">
                                <div class="w-10 h-10 rounded-lg bg-pink-500/20 flex items-center justify-center flex-shrink-0 text-pink-400">${icons.target}</div>
                                <div>
                                    <h3 class="font-semibold mb-1">Context-Aware Results</h3>
                                    <p class="text-sm text-slate-400">Every output is tailored to your specific industry and business challenge</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- How to Activate -->
                    <div class="py-16 border-t border-slate-800">
                        <h2 class="text-2xl font-bold text-center mb-4">Get Running in 2 Minutes</h2>
                        <p class="text-slate-400 text-center mb-12 max-w-xl mx-auto">Just add your business context and API key to start generating personalized marketing strategies</p>
                        <div class="max-w-2xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700">
                                <div class="text-3xl mb-3">📝</div>
                                <h3 class="font-semibold mb-2">1. Add Your Context</h3>
                                <p class="text-sm text-slate-400">Enter your brand name, website, industry, and current business challenge. This personalizes every prompt.</p>
                            </div>
                            <div class="p-6 bg-slate-800/50 rounded-xl border border-slate-700">
                                <div class="text-3xl mb-3">🔑</div>
                                <h3 class="font-semibold mb-2">2. Add Your API Key</h3>
                                <p class="text-sm text-slate-400">Bring your own OpenAI or Anthropic API key to run prompts live. Or use "Copy Only" mode to paste into any LLM.</p>
                            </div>
                        </div>
                        <p class="text-center text-slate-500 text-sm mt-6">Your API key is stored locally in your browser—never sent to our servers.</p>
                    </div>

                    <!-- Disciplines Preview -->
                    <div class="py-16 border-t border-slate-800">
                        <h2 class="text-2xl font-bold text-center mb-4">9 Marketing Disciplines</h2>
                        <p class="text-slate-400 text-center mb-12 max-w-xl mx-auto">Choose your focus area and get specialized prompts designed by operators who've scaled companies</p>
                        <div class="flex flex-wrap justify-center gap-4">
                            ${disciplines.map(d => `
                                <div class="px-6 py-4 bg-slate-800 rounded-xl border border-slate-700 flex items-center gap-3">
                                    <span class="text-2xl">${d.icon}</span>
                                    <div>
                                        <div class="font-medium">${d.label}</div>
                                        <div class="text-xs text-slate-400">${d.desc}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- CTA -->
                    <div class="py-16 border-t border-slate-800 text-center">
                        <h2 class="text-3xl font-bold mb-4">Ready to amplify your marketing?</h2>
                        <p class="text-slate-400 mb-8">No signup required. Start generating personalized prompts in seconds.</p>
                        <button
                            onclick="state.step = 'brand-input'; render();"
                            class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 rounded-xl font-semibold text-lg flex items-center gap-3 transition-all mx-auto"
                        >
                            Get Started Free
                            ${icons.arrowRight}
                        </button>
                    </div>

                    <!-- Landing Footer -->
                    <div class="py-8 border-t border-slate-800 text-center">
                        <p class="text-sm text-slate-400 mb-2">Powered by <a href="https://fabricacollective.com" target="_blank" class="text-purple-400 hover:text-purple-300 transition-colors">Fabrica Collective</a></p>
                        <p class="text-xs text-slate-600">Sources: Reforge, Demand Curve, CXL, HubSpot, Semrush, Growth.Design</p>
                    </div>
                </div>
            `;
        }

        function render() {
            const app = document.getElementById('app');
            let content = '';

            switch (state.step) {
                case 'landing': content = renderLanding(); break;
                case 'brand-input': content = renderBrandInput(); break;
                case 'discipline-select': content = renderDisciplineSelect(); break;
                case 'library-view': content = renderLibrary(); break;
                case 'llm-output': content = renderLLMOutput(); break;
            }

            const showHeader = state.step !== 'landing';

            app.innerHTML = `
                ${showHeader ? `
                <header class="border-b border-slate-800 bg-slate-900/80 backdrop-blur-sm sticky top-0 z-10">
                    <div class="max-w-6xl mx-auto px-4 py-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3 cursor-pointer" onclick="resetAll()">
                                <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white">${icons.sparkles}</div>
                                <div>
                                    <h1 class="font-bold text-lg">Amplify</h1>
                                    <p class="text-xs text-slate-400">AI-powered marketing prompts</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>
                ` : ''}
                <main class="max-w-6xl mx-auto px-4 ${showHeader ? 'py-8' : 'py-4'}">${content}</main>
                ${state.step !== 'landing' ? `
                <footer class="border-t border-slate-800 mt-12 py-6">
                    <div class="max-w-6xl mx-auto px-4 text-center">
                        <p class="text-sm text-slate-400 mb-2">Powered by <a href="https://fabricacollective.com" target="_blank" class="text-purple-400 hover:text-purple-300 transition-colors">Fabrica Collective</a></p>
                        <p class="text-xs text-slate-600">Sources: Reforge, Demand Curve, CXL, HubSpot, Semrush, Growth.Design</p>
                    </div>
                </footer>
                ` : ''}
            `;
        }

        // ===== EVENT HANDLERS =====
        function setMode(mode) {
            state.mode = mode;
            render();
        }

        function setProvider(provider) {
            state.llmProvider = provider;
            localStorage.setItem('llm_provider', provider);
            render();
        }

        function submitBrandInfo() {
            state.brand = document.getElementById('brand').value;
            state.website = document.getElementById('website').value;
            state.industry = document.getElementById('industry').value;
            state.challenge = document.getElementById('challenge').value;

            if (state.llmProvider !== 'none') {
                const apiKeyEl = document.getElementById('apiKey');
                if (apiKeyEl) {
                    state.apiKey = apiKeyEl.value;
                    localStorage.setItem('openai_api_key', state.apiKey);
                }
            }

            if (!state.brand || !state.industry || !state.challenge) {
                alert('Please fill in Brand, Industry, and Challenge fields');
                return;
            }

            state.step = 'discipline-select';
            render();
        }

        function selectDiscipline(value) {
            state.discipline = value;
            state.library = libraries[value];
            state.expandedModels = {};
            state.expandedPrompts = {};
            state.step = 'library-view';
            render();
        }

        function toggleModel(index) {
            state.expandedModels[index] = !state.expandedModels[index];
            render();
        }

        function togglePrompt(index) {
            state.expandedPrompts[index] = !state.expandedPrompts[index];
            render();
        }

        function runPrompt(index) {
            state.selectedPrompt = state.library.prompts[index];
            runPromptWithLLM(state.selectedPrompt.prompt);
        }

        function goBack(step) {
            state.step = step;
            render();
        }

        function switchModeAndRerun(newMode) {
            if (state.mode !== newMode && state.selectedPrompt) {
                state.mode = newMode;
                runPromptWithLLM(state.selectedPrompt.prompt);
            }
        }

        function resetAll() {
            state.step = 'landing';
            state.discipline = null;
            state.library = null;
            state.expandedModels = {};
            state.expandedPrompts = {};
            state.llmOutput = '';
            state.selectedPrompt = null;
            render();
        }

        // Initial render
        render();
    </script>
</body>
</html>
